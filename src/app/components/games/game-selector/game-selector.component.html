<div *ngIf="loading else selector" class="game-dropdown">
  <div *ngIf="!failed else loadFail" i18n>
      <mat-spinner [diameter]="20" class="loading-spinner"></mat-spinner>
      {{ 'Common.Loading' | translate }}
  </div>
</div>

<ng-template #selector>
    <mat-form-field class="game-dropdown">
        <mat-label i18n>{{ 'Games.Game' | translate }}</mat-label>
        <mat-select disabled [(value)]="selected" (selectionChange)="onSelectChange($event)">
          <mat-option *ngIf="addAllOptions" [value]="0" i18n>
            {{ 'Common.All' | translate }}
          </mat-option>
          <mat-option *ngFor="let game of games" [value]="game.id">
              <img *ngIf="game.icon" class="d-inline" [src]="game.icon.url" alt="game-icon">
              {{ game.name }}
          </mat-option>
        </mat-select>
      </mat-form-field>
</ng-template>

<ng-template #loadFail>
  <p i18n>{{ 'Games.LoadingGamesFailed' | translate }}</p>
</ng-template>
